<!DOCTYPE html>
<!--[if IE 8]> 				 <html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html xmlns="http://www.w3.org/1999/xhtml" class="no-js" lang="en" > <!--<![endif]-->

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width" />
	<title>Registrierung</title>
	<link rel="stylesheet" href="stylesheets/app.css" />
	<script src="javascripts/vendor/custom.modernizr.js"></script>

	<script type="text/javascript">
		function validate_name(field)
			{
			with (field)
			  {
			  if (value.length < 2||value.length > 40)
				{	
				
				if(field==vorname)
				{
					div1.innerHTML="<font color=red>Ungültige Eingabe!</font>";
				}
				else div2.innerHTML="<font color=red>Ungültige Eingabe!</font>";
				return false;
				}
			  else {
			  if(field==vorname)
				{
					div1.innerHTML="<font color=green>Richtig!</font>";
				}
				else div2.innerHTML="<font color=green>Richtig!</font>";
				
			  return true;
				   }
			
				   }
			}
		function validate_email(field)
		{
		with (field)
		{
		apos=value.indexOf("@")
		dotpos=value.lastIndexOf(".")
		if (apos<1||dotpos-apos<2) 
		  {
		  divemail.innerHTML="<font color=red>Ungültige Eingabe!</font>";
		  return false;
		  }
		  else {
		  divemail.innerHTML="<font color=green>Richtig!</font>";
		  return true;
		  }
		}
		}

		function validate_form(thisform)
		{
		with (thisform){
		
		if (!validate_name(vorname)) return false;
		if (!validate_name(nachname)) return false;
		if (!validate_email(email)) return false;
		
		return true;
		}
		}
	</script>
	
	<script type="text/javascript">
		var KursList = [
		{"KursID":"tei-einf", "Termin":[1,2,3]},
		{"KursID":"mei-einf", "Termin":[5,6,7]},
		{"KursID":"mermeid", "Termin":[8,9]},
		{"KursID":"qs", "Termin":[4]},
		{"KursID":"musikCodierung", "Termin":[8,9]},
		{"KursID":"textGrid", "Termin":[6,7]},
		{"KursID":"odd", "Termin":[2]},
		{"KursID":"xslt", "Termin":[8,9]},
		{"KursID":"kdm", "Termin":[1]}		
		];
		
		function pos(kurs)
		{
			for (var i=0;i<KursList.length;i++)
			if (KursList[i].KursID==kurs)
			{
				return i;
			}
		}
		function match(termin1,termin2)
		{
			
			for (var i=0;i<termin1.length;i++)
				for (var j=0;j<termin2.length;j++)
				{
					if (termin1[i]==termin2[j]) return true;
				}
			return false;
			
		}
		function conflict(kurs)
		{		
		var k = pos(kurs);
		var termin=KursList[k].Termin;
				
		if (document.getElementById(kurs).checked==false)
		{
			//alert($.inArray(i, termin2));
			
			for(var i=0;i<k;i++)
			{
				
				if (match(termin,KursList[i].Termin))
				{
				$(document.getElementById(KursList[i].KursID)).attr('disabled', true);
				$(document.getElementById(KursList[i].KursID).parentNode).removeAttr('onclick');
				$(document.getElementById(KursList[i].KursID).nextSibling).addClass('disabled');
				}
				console.log(KursList[i].KursID,document.getElementById(KursList[i].KursID).disabled);
				//console.log(i);
				//disable checkbox KursList[i]
				
			}
			for(var j=k+1;j<KursList.length;j++)
			{
				if (match(termin,KursList[j].Termin))
				{
				$(document.getElementById(KursList[j].KursID)).attr('disabled', true);
				$(document.getElementById(KursList[j].KursID).parentNode).removeAttr('onclick');
				$(document.getElementById(KursList[j].KursID).nextSibling).addClass('disabled');
				}
				console.log(KursList[j].KursID,document.getElementById(KursList[j].KursID).disabled);
				//console.log(j);
				//disable checkbox KursList[i]
			}
		
		}
		else 
		{	
						
			for(var i=0;i<k;i++)
			{
				if (match(termin,KursList[i].Termin))
				{
				$(document.getElementById(KursList[i].KursID)).removeAttr('disabled');
				$(document.getElementById(KursList[i].KursID).parentNode).attr('onclick','conflict("'+KursList[i].KursID+'")');
				$(document.getElementById(KursList[i].KursID).nextSibling).removeClass('disabled');
				}
				console.log('remove: ', KursList[i].KursID,document.getElementById(KursList[i].KursID).disabled);
				
				//enable checkbox KursList[i]
				
			}
			for(var j=k+1;j<KursList.length;j++)
			{
				if (match(termin,KursList[j].Termin))
				{
				$(document.getElementById(KursList[j].KursID)).removeAttr('disabled');
				$(document.getElementById(KursList[j].KursID).parentNode).attr('onclick','conflict("'+KursList[j].KursID+'")');
				$(document.getElementById(KursList[j].KursID).nextSibling).removeClass('disabled');
				}
				console.log('remove: ', KursList[j].KursID,document.getElementById(KursList[j].KursID).disabled);
				//console.log('bar');
				//enable checkbox KursList[i]
				
			}
			
		}
		//document.getElementById('mei-einf').checked = true;
		
		}
		
	</script>
</head>
<body>

	<!-- Nav Bar -->
	
	<div class="contain-to-grid fixed myBorder">
		<nav class="top-bar">
			
			<ul class="title-area">
				<li class="name">
					<h1 class="hide-for-small"><a href="index.html">Edirom-Summer-School 2013</a></h1>
					<h1 class="show-for-small"><a href="index.html">ESS 2013</a></h1>
				</li>
				<li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
			</ul>
			
			<section class="top-bar-section">
				<ul class="right">
					<li><a href="programm.html">Programm</a></li>
					<li class="divider"></li>
					<li><a href="dozentInnen.html">DozentInnen</a></li>
					<li class="divider"></li>
					<li><a href="veranstaltungsort.html">Veranstaltungsort</a></li>
					<li class="divider"></li>
					<!--<li><a href="unterbringung.html">Unterbringung</a></li>
					<li class="divider"></li>-->
					<li><a href="partner.html">Partner</a></li>
					<li class="divider"></li>
					<li class="active"><a href="#">Registrierung</a></li>
				</ul>
			</section>
		</nav>
	</div>
	
	<!-- End Nav -->
	
	
	<!-- Main Page Content and Sidebar -->
	
	<div class="row">
		
		<!-- Main Blog Content -->
		
		
		<div class=" large-6 large-centered  columns" role="content">
			<h1>Registrierung</h1>

			<form class="custom" name="form1" action="submitpage.html" onsubmit="return validate_form(this)";>
			  <fieldset>
				<legend>Persönliche Angaben</legend>
				
				<div class="row">
					<div class="small-3 columns">
					<label for="customDropdown1" class="right inline">Anrede</label>
					</div>
					<div class="small-9 columns">
					  <select id="customDropdown1" class="small" required="">
					  <option DISABLED selected></option>
						<option>Frau</option>
						<option>Herr</option>
					  </select>
					 </div>
				</div>
				 
				 <div class="row">
					<div class="small-3 columns">
						<label for="vorname" class="right inline">Vorname</label>
					</div>
					<div class="small-5 columns">
						<input type="text" placeholder="Ihr Vorname" name="vorname" id="vorname"/>
					</div>
					<div class="small-4 columns" id="div1" >
						<label class="left inline">*2-40Buchstaben</label>
					</div>
				 </div>
						
				<label for="nachname">Nachname *</label>
				<input type="text" placeholder="Ihr Nachname (Pflichtangabe)" name="nachname" id="nachname" required=""/>
				
				<label for="email">E-Mail *</label>
				<input type="email" placeholder="Ihre E-Mail-Adresse" name="email"/>
			  </fieldset>
			  <fieldset>
				<legend>Kurswahl</legend>
				
				<label for="tei-einf" onclick="conflict('tei-einf')"><input type="checkbox" id="tei-einf"  style="display: none;" /><span class="custom checkbox"></span> <span data-tooltip class="has-tip" title="Zeit: Montag 9:30 bis Dienstag 12:30; Kosten: 15 Euro">Einführung in die Textauszeichnung mit TEI </span></label>
				<label for="mei-einf" onclick="conflict('mei-einf')"><input type="checkbox" id="mei-einf" style="display: none;"><span class="custom checkbox"></span> Einführung in die Musikcodierung mit MEI</label>
				<label for="mermeid" onclick="conflict('mermeid')"><input type="checkbox" id="mermeid" style="display: none;"><span class="custom checkbox"></span> MerMEId – Arbeiten mit MEI-Metadaten</label>
				<label for="qs" onclick="conflict('qs')"><input type="checkbox" id="qs" style="display: none;"><span class="custom checkbox"></span> Qualitätssicherung im Prozess der Codierung</label>
				<label for="musikCodierung" onclick="conflict('musikCodierung')"><input type="checkbox" id="musikCodierung" style="display: none;"><span class="custom checkbox"></span> Musikcodierung in der Praxis</label>
				<label for="textGrid" onclick="conflict('textGrid')"><input type="checkbox" id="textGrid" style="display: none;"><span class="custom checkbox"></span> TextGrid</label>
				<label for="odd" onclick="conflict('odd')"><input type="checkbox" id="odd" style="display: none;"><span class="custom checkbox"></span> Einführung in die TEI Metasprache ODD</label>
				<label for="xslt" onclick="conflict('xslt')"><input type="checkbox" id="xslt" style="display: none;"><span class="custom checkbox"></span> Einführung in die Programmiersprache XSLT</label>
				<label for="kdm" onclick="conflict('kdm')"><input type="checkbox" id="kdm" style="display: none;"><span class="custom checkbox"></span> Konzeption digitaler Musikausgaben</label>
				
			  </fieldset>
				
				<input href="#" class="small button secondary right" type="submit" value="Senden"/>
			</form> 
			
			

		</div>
			
		
		<!-- End Main Content -->
		
	</div>
	
	<!-- End Main Content and Sidebar -->
	
	<!-- Footer -->
	
	<footer class="row">
		<div class="small-12 columns">
			<hr />
			<div class="row">
				<div class="small-12 columns text-center">
					<p><a href="impressum.html">Impressum</a></p>
				</div>
			</div>
		</div>
	</footer>


	<!-- Check for Zepto support, load jQuery if necessary -->
	<script>
	  document.write('<script src=javascripts/vendor/'
	    + ('__proto__' in {} ? 'zepto' : 'jquery')
	    + '.js><\/script>');
	</script>
	<script src="javascripts/foundation/foundation.js"></script>
	<script src="javascripts/foundation/foundation.topbar.js"></script>
	<script src="javascripts/foundation/foundation.forms.js"></script>
	<script src="javascripts/foundation/foundation.tooltips.js"></script>
	<script>
	  $(document).foundation();
	</script>
	
  
</body>
</html>
